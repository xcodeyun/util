var fs=require("fs"),path=require("path"),qn=require("qn"),CONFIG={accessKey:"**********",secretKey:"**********",bucket:"**********",origin:"**********",dist:"**********",targetPath:"**********"},allUpload=0,havaUpload=0,urls=[],client=qn.create({accessKey:CONFIG.accessKey,secretKey:CONFIG.secretKey,origin:CONFIG.origin,bucket:CONFIG.bucket,uploadURL:"**********"});function getFile(b){fs.readdirSync(path.resolve(__dirname,b)).forEach(function(a){var c=b+"/"+a;fs.statSync(path.resolve(c)).isFile()?(allUpload+=1,upload(CONFIG.targetPath+"/"+a,c)):getFile(c)})}function upload(b,a){client.uploadFile(a,{key:b},function(b,a){havaUpload+=1;urls.push(a.url);allUpload==havaUpload&&console.log(urls)})}getFile(CONFIG.dist);